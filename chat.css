/* === CHAT UI - THEMED & MINIMAL === */

/* 1. Base Styles (Leveraging style.css for fonts and root variables) */
/* No @import or :root here, as style.css handles it */

/* 2. Body Styles - Consistent with main theme */
body, html {
  margin: 0;
  padding: 0;
  font-family: var(--font-body);
  background-color: var(--color-bg-parchment); /* Use main theme background */
  color: var(--color-text-charcoal); /* Use main theme text color */
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Remove themed grid overlay from chat.css, rely on style.css if it has one */
body::before {
  content: none;
}

/* 3. Header & Navigation - Consistent with main theme */
/* These styles are already in style.css, no need to duplicate */
header {
  padding: 22px 0 0 0;
}

.center-title {
  text-align: center;
  font-family: var(--font-heading);
  color: var(--color-accent-gold);
  font-size: 36px;
  margin: 0;
  text-shadow: 2px 2px var(--color-text-brown); /* Use theme brown */
  /* animation: neonPulse 3s ease-in-out infinite alternate; - Removed for minimalism */
}

/* @keyframes neonPulse { ... } - Removed for minimalism */

.navbar.horizontal-navbar {
  width: 100%;
  background-color: var(--color-text-brown);
  border-bottom: 2px solid var(--color-highlight-orange);
  margin-bottom: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* Consistent with style.css */
}

/* Remove scanlines from navbar, rely on main theme */
.navbar.horizontal-navbar::before {
  content: none;
}

.navbar-nav {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 24px;
  justify-content: center;
  flex-wrap: wrap;
  position: relative;
  z-index: 1;
}

.nav-item .nav-link {
  display: flex;
  align-items: center;
  padding: 16px 30px;
  font-size: 19px;
  color: var(--color-accent-gold);
  font-family: var(--font-heading);
  text-decoration: none;
  transition: color var(--transition-speed), background-color var(--transition-speed), transform var(--transition-speed);
  border-radius: var(--border-radius-md);
  outline: none;
  text-transform: uppercase;
  position: relative;
  overflow: hidden;
}

/* Remove ::before glow effect for minimalism */
.nav-item .nav-link::before {
  content: none;
}

.nav-item .nav-link:focus-visible { /* Use :focus-visible for accessibility */
  outline: 2px solid var(--color-accent-gold);
  outline-offset: 2px;
}

.nav-item .nav-link i {
  margin-right: 10px;
  font-size: 20px;
  /* filter: drop-shadow(0 0 5px currentColor); - Removed for minimalism */
  transition: color var(--transition-speed);
}

.nav-item .nav-link:hover,
.nav-item .nav-link.active {
  color: var(--color-accent-blue); /* Consistent with style.css */
  background: rgba(244, 197, 66, 0.1);
  transform: translateY(-2px);
  /* box-shadow: var(--shadow-glow-red); - Removed for minimalism */
}

.nav-item .nav-link:hover i,
.nav-item .nav-link.active i {
  color: var(--color-accent-blue);
}

/* 5. Main Chat Layout - Simplified */
.container {
  display: flex;
  min-height: calc(100vh - 120px); /* Adjust height based on header/footer */
  padding: 20px;
  gap: 20px;
}

/* Remove empty aside, chat-layout will be the main content */
aside {
  display: none; /* Hide the empty aside for a minimal layout */
}

.chat-layout {
  flex: 1; /* Take full width */
  display: flex;
  gap: 20px;
  padding: 0; /* Remove padding, container handles it */
  min-height: auto; /* Let content define height */
}

/* 6. Chat History Container - Minimal Integration */
.chat-history-container {
  width: 280px; /* Fixed width for history */
  background-color: var(--color-bg-off-white); /* Consistent with main content background */
  border-radius: var(--border-radius-lg);
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* Consistent with dashboard cards */
  border: 1px solid var(--color-highlight-orange); /* Consistent with dashboard cards */
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

/* Remove scanlines from history container */
.chat-history-container::before {
  content: none;
}

.history-header h2 {
  font-family: var(--font-heading);
  color: var(--color-text-brown);
  font-size: 16px;
  margin-bottom: 15px;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  gap: 10px;
}

.history-list {
  flex: 1; /* Allow history list to grow */
  overflow-y: auto;
  padding-right: 5px; /* For scrollbar */
}

.history-placeholder {
  text-align: center;
  color: var(--color-text-brown);
  opacity: 0.6;
  padding: 20px;
}

.history-placeholder i {
  font-size: 3em;
  margin-bottom: 10px;
}

.history-item {
  display: flex;
  flex-direction: column; /* Stack title and date */
  padding: 10px;
  margin-bottom: 10px;
  background-color: var(--color-bg-parchment); /* Lighter background */
  border-radius: var(--border-radius-md);
  border-left: 4px solid var(--color-accent-blue); /* Use accent blue */
  transition: all var(--transition-speed);
  cursor: pointer;
  position: relative;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* Remove ::before border glow */
.history-item::before {
  content: none;
}

.history-item:hover {
  transform: translateY(-2px);
  border-left-color: var(--color-accent-gold); /* Gold on hover */
  background-color: var(--color-bg-off-white);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.history-item-title {
  font-size: 14px;
  color: var(--color-text-brown);
  margin: 0;
  font-weight: 500;
}

.history-item-date {
  font-size: 11px;
  color: var(--color-text-charcoal);
  opacity: 0.7;
  margin-top: 5px;
}

/* 7. Main Chat Container */
.chat-container {
  flex: 1;
  background-color: var(--color-bg-off-white);
  border-radius: var(--border-radius-lg);
  padding: 20px;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  border: 1px solid var(--color-highlight-orange);
}

/* Remove scanlines from chat container */
.chat-container::before {
  content: none;
}

.chat-container > * {
  position: relative;
  z-index: 1;
}

/* 8. Chat Header */
.chat-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--color-bg-parchment);
}

.chat-header h1 { /* Changed from h2 to h1 for main chat title */
  font-family: var(--font-heading);
  color: var(--color-text-brown);
  font-size: 20px;
  margin: 0;
  text-transform: uppercase;
}

.chat-controls {
  display: flex;
  gap: 10px;
  margin-top: 10px; /* Adjust spacing */
}

.action-btn {
  background-color: var(--color-accent-blue); /* Use theme blue */
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  font-family: var(--font-body);
  font-weight: 500;
  transition: all var(--transition-speed);
  text-transform: uppercase;
  font-size: 12px;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  gap: 5px;
}

/* Remove ::before glow effect for minimalism */
.action-btn::before {
  content: none;
}

.action-btn:hover {
  background-color: var(--color-accent-gold); /* Gold on hover */
  color: var(--color-text-brown);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow */
}

/* Subject Selector */
.subject-selector {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 10px;
  width: 100%; /* Take full width on smaller screens */
}

.subject-selector label {
  font-size: 14px;
  color: var(--color-text-charcoal);
  font-weight: 500;
}

.subject-selector select {
  flex: 1;
  min-width: 110px;
  padding: 8px;
  border: 1px solid var(--color-highlight-orange);
  background-color: var(--color-bg-parchment);
  color: var(--color-text-brown);
  border-radius: var(--border-radius-sm);
  font-family: var(--font-body);
  outline: none;
  transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
}

.subject-selector select:focus {
  border-color: var(--color-accent-gold);
  box-shadow: 0 0 0 3px rgba(244, 197, 66, 0.3);
}

/* 9. Chat Window */
.chat-window {
  flex: 1;
  overflow-y: auto;
  padding: 15px;
  background-color: var(--color-bg-parchment); /* Lighter background for chat messages */
  border-radius: var(--border-radius-md);
  margin-bottom: 15px;
  border-left: 4px solid var(--color-accent-red); /* Keep accent red for chat window border */
  position: relative;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.1); /* Subtle inner shadow */
}

/* Remove terminal active text for minimalism */
.chat-window::before {
  content: none;
}

/* Message Styling */
.message {
  display: flex;
  margin-bottom: 15px;
  max-width: 90%; /* Slightly wider messages */
  animation: slideInMessage 0.5s ease-out;
}

@keyframes slideInMessage {
  from { transform: translateY(10px); opacity: 0; } /* Slide up slightly */
  to { transform: translateY(0); opacity: 1; }
}

.message p {
  padding: 12px 15px; /* Slightly less padding */
  border-radius: var(--border-radius-md);
  margin: 0;
  line-height: 1.5;
  font-weight: 400; /* Lighter font weight */
  border-left: 3px solid; /* Thinner border */
  position: relative;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08); /* Subtle shadow */
}

/* Remove ::before border glow */
.message p::before {
  content: none;
}

.bot-message {
  justify-content: flex-start;
}

.bot-message p {
  background-color: var(--color-bg-off-white); /* Off-white for bot messages */
  color: var(--color-text-charcoal);
  border-left-color: var(--color-accent-blue);
}

.user-message {
  justify-content: flex-end;
  margin-left: auto;
}

.user-message p {
  background-color: var(--color-accent-gold); /* Gold for user messages */
  color: var(--color-text-brown);
  border-left-color: var(--color-highlight-orange);
  font-weight: 500;
}

/* Intro Row Layout - Keep for initial messages */
.intro-row {
  display: flex;
  flex-direction: row;
  gap: 20px;
  margin-bottom: 20px;
}

.intro-row .message {
  margin-bottom: 0;
  max-width: 300px;
  flex: 1;
}

/* 10. Input Area */
.chat-input-area {
  display: flex;
  gap: 10px;
  position: relative;
  margin-top: 15px;
}

/* Remove user input label for minimalism */
.chat-input-area::before {
  content: none;
}

.chat-input-area textarea {
  flex: 1;
  min-width: 110px;
  padding: 10px 12px; /* Adjusted padding */
  border: 1px solid var(--color-highlight-orange);
  background-color: var(--color-bg-off-white); /* Consistent with main theme */
  color: var(--color-text-charcoal);
  border-radius: var(--border-radius-sm);
  font-family: var(--font-body);
  resize: none;
  transition: all var(--transition-speed);
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
}

.chat-input-area textarea:focus {
  outline: none;
  border-color: var(--color-accent-blue); /* Blue focus */
  box-shadow: 0 0 0 3px rgba(0, 174, 239, 0.2); /* Blue glow */
  background-color: white;
}

.chat-input-area button {
  background-color: var(--color-accent-blue); /* Use theme blue */
  color: white;
  border: none;
  padding: 10px 18px; /* Adjusted padding */
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  font-family: var(--font-body);
  font-weight: 500;
  transition: all var(--transition-speed);
  min-width: 50px;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Remove ::before glow effect for minimalism */
.chat-input-area button::before {
  content: none;
}

.chat-input-area button:hover {
  background-color: var(--color-accent-gold); /* Gold on hover */
  color: var(--color-text-brown);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* 11. Quick Prompts */
#quick-prompts {
  display: flex;
  flex-wrap: wrap;
  gap: 8px; /* Slightly smaller gap */
  margin-top: 15px;
}

.quick-prompt {
  padding: 6px 12px; /* Smaller padding */
  background-color: var(--color-bg-parchment); /* Parchment background */
  color: var(--color-text-brown);
  border: 1px solid var(--color-highlight-orange); /* Highlight orange border */
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  transition: all var(--transition-speed);
  font-size: 12px;
  font-family: var(--font-body); /* Use body font */
  font-weight: 500;
  text-transform: none; /* No uppercase */
  position: relative;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

/* Remove ::before glow effect for minimalism */
.quick-prompt::before {
  content: none;
}

.quick-prompt:hover {
  background-color: var(--color-accent-blue); /* Blue on hover */
  color: white;
  border-color: var(--color-accent-blue);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* 12. Responsive Design */
@media (max-width: 1024px) {
  .container {
    flex-direction: column;
  }
  .chat-layout {
    flex-direction: column;
  }
  .chat-history-container {
    width: 100%;
    max-height: 300px; /* Limit height on smaller screens */
  }
  .navbar-nav { gap: 12px; }
  .nav-item .nav-link { padding: 12px 20px; font-size: 16px; }
}

@media (max-width: 768px) {
  .container { padding: 10px; }
  .chat-layout { gap: 15px; }
  .chat-history-container { padding: 15px; }
  .chat-header h1 { font-size: 18px; }
  .chat-controls { flex-direction: row; justify-content: center; margin-top: 15px; }
  .subject-selector { flex-direction: column; align-items: flex-start; }
  .subject-selector select { width: 100%; }
  .chat-window { padding: 10px; }
  .message { max-width: 100%; }
  .message p { padding: 10px 12px; font-size: 0.9rem; }
  .chat-input-area textarea { padding: 8px 10px; font-size: 0.9rem; }
  .chat-input-area button { padding: 8px 15px; font-size: 0.9rem; }
  #quick-prompts { gap: 6px; }
  .quick-prompt { padding: 5px 10px; font-size: 11px; }
}

@media (max-width: 480px) {
  .center-title { font-size: 24px; }
  .navbar-nav { flex-direction: column; gap: 0; align-items: center; }
  .nav-item .nav-link { padding: 10px 15px; font-size: 14px; width: 100%; justify-content: center; }
  .chat-header h1 { font-size: 16px; }
  .action-btn { font-size: 10px; padding: 6px 10px; }
  .subject-selector label { font-size: 12px; }
  .subject-selector select { font-size: 0.8rem; }
  .chat-input-area textarea { font-size: 0.8rem; }
  .chat-input-area button { font-size: 0.8rem; }
  .quick-prompt { font-size: 10px; padding: 4px 8px; }
}

/* 13. Loading and Error States - Minimal */
.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  color: var(--color-accent-blue); /* Use theme blue */
  font-family: var(--font-body); /* Use body font */
  font-size: 14px;
  text-transform: uppercase;
}
.loading::before { content: 'Loading...'; animation: pulse 1s infinite; margin-right: 10px; }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

.error {
  color: var(--color-accent-red);
  padding: 15px;
  text-align: center;
  background-color: rgba(233, 69, 96, 0.08); /* Lighter background */
  border: 1px solid var(--color-accent-red); /* Thinner border */
  border-radius: var(--border-radius-md);
  margin-bottom: 15px;
  font-family: var(--font-body); /* Use body font */
  font-size: 14px;
  text-transform: none; /* No uppercase */
  box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Subtle shadow */
}

.error::before {
  content: 'Error: ';
  display: inline;
  margin-right: 5px;
  animation: none; /* Remove neon pulse */
}
